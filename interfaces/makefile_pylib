#-*- mode: makefile-*-
#******************************************************************************

#
# Locating the root directory
#

NP_INCL = /home/arnold/.virtualenvs/rabraker-com-342/lib/python3.4/site-packages/numpy/core/include


CFLAGS         =  $(OPT) $(DBG) -fopenmp -fPIC $(WARN_FLAGS) \
					-std=c11 $(MAT_DEF)
CPPFLAGS        +=   -I../ -I../include -I/usr/local/include \
					-I/usr/include/python3.5

LDLIBS      =   -ll1qc_dct -lpython3.5
# -lm -lopenblas -lfftw3 -lgomp -ll1qc_dct -lpython

LDFLAGS       = -L../build/interfaces -L. \
				-L/usr/lib/python3.5/config-3.5m-x86_64-linux-gnu \
				-Wl,--rpath,../build/interfaces


lib: l1cPy.o
	$(CC)  -shared l1cPy.o -o l1cPy.so $(LDFLAGS) $(LDLIBS)

l1cPy.o:l1cPy.c
	gcc $(CFLAGS) $(CPPFLAGS) -c -o l1cPy.o l1cPy.c

clean:
	rm l1qc_dct_py.so
